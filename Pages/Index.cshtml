@page
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using AspNetCore.RazorPages.Demo.Provider;
@{
    var provider = new StaticDataProvider();
    var cities = await provider.GetCitiesAsync();
    var randomGenerator = new Random(DateTime.Now.Millisecond);

}

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="~/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
    <div class="container p-5">

            @foreach (var item in cities)
            {
                <p>
                    @item: <a asp-page="/CityInfo" asp-route-id="@item" asp-route-year="@randomGenerator.Next(2000, 2029)">More info</a>
                </p>
                
            }

    </div>
</body>
</html>

